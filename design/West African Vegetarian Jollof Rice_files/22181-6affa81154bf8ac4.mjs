"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[22181],{485756:(e,t,r)=>{r.d(t,{xR:()=>_,ZP:()=>y,vR:()=>h});var s=r(658583),i=r(622541),n=r(373314),a=r(217058),o=r(353453),u=r(953565);let d={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},p=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],c=/www\.pinterest\.[A-Za-z]{2}/,l=/[A-Za-z]{2}\.pinterest\.com/,m=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},h=e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case o.RL:return"iphone";case o.GW:return t.isTablet?"android_tablet":"android";case o.s4:return"ipad";default:return"mobile_other"}};function _(e){if(p.indexOf(e)>-1||c.test(e)||l.test(e))return e;for(let t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&e.indexOf(t)>-1)return d[t];return"other"}let f=({moduleName:e,pageType:t,requestContext:r})=>{let o;let d=h(r),p=r.isAuthenticated?"auth":"unauth",c=m(),l=(0,n.Z)(),f=(o=!1,s.U2(i.VL)||(s.t8(i.VL,"1",(0,s.kZ)(i.VL)),o=!0),o),y=document.domain||"unknown";f&&((0,a.My)(`traffic.${d}.${l}.${e}.${p}`),(0,a.My)(`traffic_subdomain.${y}.${l}.${e}.${p}`),(0,a.My)(`traffic_subdomain.${y}.${d}.${l}.${e}.${p}`),(0,a.My)(`traffic_subdomain.${y}.${d}.${p}`),(0,a.My)(`traffic_duplo.${d}.${l}.${e}.${p}`),c&&(0,a.My)(`traffic_bot.${c}.${e}`));let g={domain:_(y),referrer:l??"unknown",platform:d??"unknown",browser:r.userAgent.browserName??"unknown",bot_type:c??"none",page_type:t??"unknown",is_auth:p??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:f??"unknown"};(0,u.nP)("webapp.traffic",{sampleRate:.1,tags:g}),("google"===l||"other"===l)&&(0,u.nP)(`webapp.traffic.${d}.${l}`,{sampleRate:.1,tags:g})};function y({pageType:e,requestContext:t,route:r}){f({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[r]||"other",pageType:e,requestContext:t})}},263032:(e,t,r)=>{r.d(t,{YS:()=>a,eF:()=>o,m_:()=>n});var s=r(934378),i=r(953565);function n(e,t,r,n,a){let o=new URLSearchParams,u=t.reduce((e,t)=>{if(null!=t){let r=function(e){let t;try{t=decodeURIComponent(e)}catch(r){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(s){let r=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(r&&r.length>1)return r[1];return e}}(t);return e.add(r)}return e},new Set);o.append(s.NR.SOURCE_EVENT_ID,e??"0"),o.append(s.NR.DESTINATION,JSON.stringify([...u])),o.append(s.NR.EXPIRY,r?s.uV:s.ug),o.append(s.NR.PRIORITY,r?s.NR.CLICK_PRIORITY:s.NR.VIEW_PRIORITY),a&&o.append(s.NR.ADVERTISER_ID,a),n&&o.append(s.NR.CAMPAIGN_ID,n),o.append(s.NR.SOURCE_EVENT_TYPE,r?s.bC:s.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(s.NR.HOSTNAME,e)}catch(e){(0,i.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}async function a(e,t,r,s,a,o,u,d,p){let c;let{appType:l,osType:m}=o||{},h="",_="";if(["Pin","pinImpressions"].includes(e)&&t&&(s||d||p)){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:l,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:l,osType:m}});return}h=n(r,[s,d,p],!1,a,u);try{_=new URL(window.location.href).hostname}catch(e){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(_&&"www.pinterest.com"!==_)document.createElement("img").setAttribute("attributionsrc",h),(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:l,osType:m,hostname:_}});else if(!(c=await window.fetch(h,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:l,osType:m}})}catch(e){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:l,osType:m,hostname:_,responseStatus:c&&c.status}})}}else(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:l,osType:m}})}function o(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},860208:(e,t,r)=>{function s(e){return[0,24,21,26].includes(e)}function i({articleType:e,id:t,title:r}){let s=r.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${s}/${t}/`:`/discover/article/${s}/${t}/`}r.d(t,{x:()=>i,y:()=>s})},798580:(e,t,r)=>{r.d(t,{Z:()=>u});var s=r(624797);let i=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,n=(e,t)=>t?e.substring(t.length).split("/")[0]:e,a=({boardUrl:e,path:t,pinId:r,pinnerUserName:a,search:o,storyPinDataId:u})=>{if(!t)return"";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case a&&`/${a}/pins/`:return"UserPinsResource";case a&&`/${a}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case a&&`/${a}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:let d=n(t,"/pin/");if(r!==d)return`RelatedPinFeedResource_${d}`;break;case/\/search\//.test(t)&&t:if(o){let e=(0,s.mB)(o,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:let p=n(t,"/categories/");return`CategoryFeedResource_${p}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:let c=n(t,"/news_hub/");return`NewsHubDetailsResource_${c}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:let l=n(t,"/topics/");return`TopicFeedResource_${l}`;case/\/source\//.test(t)&&t:let m=n(t,"/source/");return`DomainFeedResource_${m}`;case/\/explore\//.test(t)&&t:let h=n(t,"/explore/");return`SearchResource_${h}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case i.test(t)&&t:let _=t.match(i)?.[2]||"unknown";return`TodayArticleFeedResource_${_}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(o){let{feed_type:e,request_params:t}=(0,s.mB)(o);return`StoryFeedResource_${e}_${t}`}}return""},o=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},u=({boardUrl:e,location:t,pinId:r,pinnerUserName:s,previousHistory:i,storyPinDataId:n,trackingParams:u,trackingParamsMap:d={}})=>{let p,c;if(!r||!u||!t)return;if(!d)return`${u??""}~0`;let{pathname:l,search:m}=t,h=a({boardUrl:e,path:l,pinId:r,pinnerUserName:s,search:m,storyPinDataId:n,trackingParams:u,trackingParamsMap:d}),_=Object.keys(d);if((l||"").startsWith("/pin/")){let e=_.find(e=>"PinResource"!==e);p=e?d[e]:d.PinResource}else p=d[h];return!p&&i&&i.length&&(c=a({boardUrl:e,path:o(i[i.length-1].location),pinId:r,pinnerUserName:s,search:m,storyPinDataId:n,trackingParams:u,trackingParamsMap:d}),p=d[c]),p||(p=`${u||""}~0`),p}},525364:(e,t,r)=>{let s;r.d(t,{BE:()=>d,Ih:()=>p,SU:()=>c,sV:()=>u});var i=r(667294),n=r(342513),a=r(785893);let{Provider:o,useHook:u}=(0,n.Z)("View");function d(){return s}function p({children:e,initialState:t={}}){let[r,n]=(0,i.useState)(t),u=(0,i.useCallback)(()=>{s={},(0,i.startTransition)(()=>{n({})})},[]),d=(0,i.useCallback)(e=>{s={...s,...e},(0,i.startTransition)(()=>{n(t=>({...t,...e}))})},[]),p=(0,i.useMemo)(()=>({viewContextData:r,clearViewContextData:u,setViewContextData:d}),[r,d,u]);return(0,a.jsx)(i.Fragment,{children:(0,a.jsx)(o,{value:p,children:e})})}function c(){let{viewContextData:e}=u();return e}},666472:(e,t,r)=>{r.d(t,{F:()=>_,Z:()=>h});var s=r(667294),i=r(263032),n=r(214877),a=r(547643),o=r(30378),u=r(5859),d=r(554786),p=r(369708),c=r(953565),l=r(84768);let m={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function h({carouselData:e,closeupImpressionType:t,closeupNavigationType:r,componentType:h,contextLogData:_,clientTrackingParams:f,elementType:y,impressionAuxFields:g,inImpressionExp:b,impressionType:w,impressionsFramework:v,isPaused:T,loggingId:E,objectIdStr:R,slotIndex:I,trackCarousel:O,viewData:D,viewParameter:P,viewType:S,isPromoted:A,storyPinProductEventData:C,pinData:B}){let{logContextEvent:N}=(0,n.v)(),{logMrcVideoAdEventOnPlay:x}=(0,p.rG)(),k=v||o.Z,$=(0,s.useRef)(null),M=s=>{let n=m[w],a=n.idType,o={clientTrackingParams:f,endTime:s.endTime,[a]:E,slotIndex:I,time:s.startTime,renderDuration:s.endTime-s.startTime,type:t,...g,forcedExit:"removed"===s.forcedExit?0:void 0},u={};if("Pin"===w&&(o={...o,pinCellWidth:$.current?.offsetWidth||0,pinCellHeight:$.current?.offsetHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},g?.chromeAraViewExp&&B&&B.isPromoted)){let{attributionSourceId:e}=B;(0,i.YS)(w,B.isPromoted??null,e??null,B.link??null,B.campaignId??null,g.araAuxData??null,B.advertiserId??null,B.domain??null,B.adDestinationUrl??null),u={is_arapi:!0,attribution_source_id:e||""}}let d={component:h,object_id_str:R,view_type:S,view_data:D||{},view_parameter:P};if(O)e&&O&&N({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...o,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{..._,...u}});else{let e={clientTrackingParams:f,event_type:n.eventType,...d,element:y,event_data:{[n.impressionType]:"Story"===w?o:[o],...C?{storyPinProductEventData:C}:{}},aux_data:{closeup_navigation_type:r,..._,...u}};N(e),x(e)}},{expName:L,group:F}=(0,a.Z)({skipActivation:!0}),V=(0,d.ZP)(),U=(0,l.MM)(),{isAuthenticated:H}=(0,u.B)(),Z=(0,s.useCallback)(()=>{try{let{current:e}=$;e instanceof HTMLElement&&(!A||e.getElementsByTagName("img").length>0)&&(k.start(e).onExitViewport(M).setDebugId(E||"unknown"),F&&(0,c.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:V,experimentName:L,group:F,handlerId:U,isAuthenticated:H,slotIndex:I??"unknown"}}))}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[$.current]);return(0,s.useEffect)(()=>(b&&!k.inExperiment&&k.setExperimentStatus(!0),T||Z(),()=>{let{current:e}=$;e instanceof HTMLElement&&(!A||e.getElementsByTagName("img").length>0)&&k.stop(e)}),[T,Z]),$}let _=({children:e,...t})=>e({impressionTrackerRef:h(t)})},307772:(e,t,r)=>{function s(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:()=>c,LU:()=>l,ZP:()=>m});let i=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,n={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},o={background:"#FF8A8A",transform:"scale(.98)"},u={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[n.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[n.exit]:o,[n.stopped]:o,[n.paused]:o,[n.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){s(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),s(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),s(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),s(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(n.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(n.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,i&&Object.assign(this.node.style,u.init(e)),this}pause(){return this.inViewport&&(this._debug(n.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(n.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(n.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(i)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),u[e]&&Object.assign(this.node.style,u[e]),e){case n.flushed:case n.paused:case n.exit:a[this.debugId]=!0}}}function p(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c=!0,l=!1;class m{constructor(){p(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),p(this,"_handleMutations",(e,t)=>{let r=this.mutationObservers.get(t);r&&r.offsetHeight<1&&r&&this.stop(r,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=l,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=c){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==l||(this.pausePriority=e))}resume(e=c){(e!==l||this.pausePriority!==c)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=l)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:r}=t.getBoundingClientRect();return r>e?r:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:r}=t.getBoundingClientRect();return r<e?r:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let r={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,r)=>{r.d(t,{Z:()=>s});let s=new(r(307772)).ZP},939129:(e,t,r)=>{r.d(t,{e:()=>s,n:()=>i});let s=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}},i=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let r=t.pattern.split("/").filter(e=>""!==e),s=e.split("/").filter(e=>""!==e);if(r.length!==s.length)return!1;for(let e=0;e<r.length;e+=1)if(!r[e].startsWith(":")&&s[e]!==r[e])return!1;return!0});return t?t.name:"unknown"}},865611:(e,t,r)=>{r.d(t,{Z:()=>s});let s=e=>e<100?"0-100ms":e<250?"100-250ms":e<500?"250-500ms":e<1e3?"500-1000ms":e<2e3?"1000-2000ms":e<3e3?"2000-3000ms":e<4e3?"3000-4000ms":e<5e3?"4000-5000ms":e<6e3?"5000-6000ms":e<7e3?"6000-7000ms":e<8e3?"7000-8000ms":e<9e3?"8000-9000ms":e<1e4?"9000-10000ms":e<15e3?"10000-15000ms":e<2e4?"15000-20000ms":e<25e3?"20000-25000ms":"25000+ms"},371626:(e,t,r)=>{r.d(t,{Z:()=>s});let s=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},396596:(e,t,r)=>{r.d(t,{Z:()=>s});function s(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let r=t.split("/")[3];return r?"feedback"===r||"sent"===r?r:null:"default"}},421715:(e,t,r)=>{r.d(t,{V:()=>n,b:()=>i});let s=e=>e?e.tagName||null!==e.parentElement?"HTML"===e.tagName&&null===e.parentElement?"HTML":"BODY"===e.tagName&&e.parentElement?.tagName==="HTML"?"BODY":e.dataset.layoutShiftBoundaryID||e.dataset.testId?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?s(e.parentElement):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED",i=e=>{let t=e.attribution.processedEventEntries.find(t=>t.startTime===e.attribution.interactionTime),r=t?t.target:null;return r?s(r):"NODE_REMOVED"},n=e=>e?s(e):"NODE_REMOVED"},575742:(e,t,r)=>{r.d(t,{J:()=>s,Z:()=>i});let s=-1;function i(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},353453:(e,t,r)=>{r.d(t,{GW:()=>i,RL:()=>s,s4:()=>n});let s="ios",i="android",n="ipad"},369708:(e,t,r)=>{r.d(t,{Wr:()=>p,rG:()=>d});var s=r(667294),i=r(214877),n=r(342513),a=r(340523),o=r(785893);let{Provider:u,useHook:d}=(0,n.Z)("VideoPlayer");function p({children:e}){let{logContextEvent:t,logImpression:r}=(0,i.v)(),{checkExperiment:n}=(0,a.F)(),[d,p]=(0,s.useState)(!1),[c,l]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[_,f]=(0,s.useState)({}),y=n("web_ads_mrc_video_impression").anyEnabled,g=e=>{f(t=>({...t,[e]:!0}))},b=(0,s.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=(e.aux_data?.commerce_data||"").includes("story_pin_id");y&&(t||r)&&l(t=>[...t,e].slice(-1e3))}},[y]),w=(0,s.useCallback)(e=>{18===e.eventType&&y&&h(t=>[...t,e].slice(-1e3))},[y]),v=e=>{let{renderDuration:t,time:r}=e.event_data.pinImpressions[0],s=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:r+s,renderDuration:s}]}}},T=e=>{if(e.eventData){let{time:t,endTime:r}=e.eventData,s=Math.max((r??0)-(t??0),15e8);return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+s}}}return null};(0,s.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!_[r]||!y||(t(v(e)),!1)});e.length!==c.length&&l(e)},[c,y,t,_]),(0,s.useEffect)(()=>{let e=m.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(_[t]&&y){let t=T(e);return t&&r(t),!1}return!0});e.length!==m.length&&h(e)},[m,y,r,_]);let E=(0,s.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:w,logMrcVideoAdEventOnPlay:b,setCaptionsEnabled:p,setVideoPlayed:g,videosPlayed:_}),[d,b,w,_]);return(0,o.jsx)(u,{value:E,children:e})}},180338:(e,t,r)=>{r.d(t,{H:()=>s,W:()=>i});let{Provider:s,useMaybeHook:i}=(0,r(342513).Z)("PinCreateDeleteContext")},281871:(e,t,r)=>{r.d(t,{Z:()=>s});function s(e,t,r){return{privacy_filter:t?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}},945488:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(e,t)=>`${e}:${t||""}`},885837:(e,t,r)=>{r.d(t,{O:()=>o,Q:()=>u});var s=r(827625),i=r(945488),n=r(64819);let a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],o={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:r,username:s,privacyFilter:i="all",filterAllPins:n=!1,filterShoppingList:a=!1,includeArchived:o=!0},u)=>({privacy_filter:i,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:s,page_size:25,group_by:r?"mix_public_private":"visibility",include_archived:o,redux_normalize_feed:!0,filter_all_pins:n,filter_shopping_list:a,...u?{orbac_subject_id:u}:Object.freeze({})})},u=e=>a.reduce((t,r)=>{let a=[(0,n.N8)("profileBoards",(0,i.Z)(e,r))];return[!0,!1].forEach(t=>{[!0,!1].forEach(i=>{a.push((0,s.jB)(o.name,o.options({username:e,boardOrder:r,mixPublicSecret:t,filterStories:i})))})}),t.concat(a)},[])},821419:(e,t,r)=>{r.d(t,{Br:()=>m,Cr:()=>O,K8:()=>b,L1:()=>k,Tq:()=>y,YQ:()=>x,YV:()=>I,ZP:()=>D,aX:()=>P,eo:()=>_,fJ:()=>M,md:()=>h,oG:()=>f,oL:()=>S,of:()=>w,xH:()=>g,xQ:()=>v,xR:()=>N,xk:()=>E,yT:()=>l,zS:()=>$});var s=r(216167),i=r(481177),n=r(107366),a=r(227258),o=r(827625),u=r(281871),d=r(885837),p=r(64819),c=r(937310);function l(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function m(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function _({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:s}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:s}}}let f=(e,t)=>r=>r((0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function y(e,t,r){return(0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t,...r?{orbac_subject_id:r}:{}}})}function g(e,t,r){return s=>(0,n.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:r?{orbac_subject_id:r}:{}}).then(()=>Promise.all([s(_({boardId:e})),s(y(t,"pin_count")),s((0,p.N8)(c.Z.BOARD_SECTIONS,t))]))}function b(e){return t=>{e&&(0,d.Q)(e).forEach(e=>{t(e)})}}let w=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),v=e=>f(e,"pin_count");function T(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function E(e,t){return r=>(r(T(e)),s.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function R(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function I(e,t){return r=>(r(R(e)),s.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let O=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),D=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function P(e,t,r){let n={name:e,privacy:i.Z.BoardPrivacy.PUBLIC,username:t,...r?{orbac_subject_id:r}:Object.freeze({})};return e=>s.Z.create("BoardResource",n).callCreate().then(r=>{let s=r.resource_response.data;return e(t&&(0,o.jB)("BoardsResource",(0,u.Z)(t,!1))),s})}function S(e={},t,r){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:r}}let A=(e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),C=(e,t,r)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:r}}),B=(e,t,r,s)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:r,collaboratingUsers:s}}),N=(e,t,r)=>async i=>{i(A(e,t));let n=await s.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return n.resource_response.error||r({event_type:29,object_id_str:e}),n},x=(e,t,r,i,n,a)=>async o=>{o(C(e,i?.id??"",r));try{(await s.Z.create("accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:i?.id??"",...a?{orbac_subject_id:a}:{}}).callDelete()).resource_response.error||n({event_type:"accepted"===t?25:29,object_id_str:e})}catch(s){o(B(e,r,t,[i]))}},k=(e,t,r,i)=>n=>{let a=s.Z.create("BoardResource",{board_id:r}).callDelete();return n(_({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:i})),a},$=(e,t)=>r=>s.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(s=>(r((0,p.Qv)("archived-boards",[{id:e,type:"board"}])),r(T(e,t)),s)),M=(e,t)=>r=>s.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(s=>(r((0,p.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),r(R(e)),s))},64819:(e,t,r)=>{function s(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:()=>a,N8:()=>i,Qv:()=>n,_f:()=>s,vX:()=>o});let n=(e,t,r=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}});function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function o(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},937310:(e,t,r)=>{r.d(t,{Z:()=>s});let s={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},762240:(e,t,r)=>{r.d(t,{Z:()=>a,d:()=>n});var s=r(827625);let i=e=>JSON.stringify(e.trim().split(",").reduce((e,t)=>{let[r,s]=t.split(":");return r&&s?{...e,[r]:s}:e},{})),n={name:"BoardContentRecommendationResource",options:({collection:e,forceBackendExperiments:t,from_news_id:r,ideasReferrer:s,requestParams:n})=>({type:e.type,id:e.id,force_experiments:t&&i(t),__track__from_news_id:r,__track__referrer:s,request_params:n}),key:"resource"},a=e=>(0,s.jB)(n.name,n.options(e))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/22181-6affa81154bf8ac4.mjs.map